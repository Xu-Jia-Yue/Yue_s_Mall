import{d as M,r as m,o as N,a as s,c as a,e as d,w as h,F as v,g as y,b as t,t as n,V as c,j as x,n as E,ad as O,p as P,f as L,_ as U}from"./index-B75pHzMF.js";import{a as q,E as A}from"./el-tab-pane-BYOIa8nG.js";import{E as D}from"./el-pagination-KOjiZM8N.js";import"./el-input-f3cQYkP_.js";import"./el-select-CXjG57e0.js";import{E as G}from"./el-empty-B6BGtTiS.js";import{a as H}from"./Order-DDHEFdVO.js";import"./event-BE20p1dL.js";import"./scroll-CkC0sI4r.js";import"./index-YlUhqEa-.js";import"./vnode-BUxZuyNd.js";import"./isEqual-DlKH4p2f.js";import"./debounce-BNDKjuDs.js";import"./castArray-Bh4Z-upW.js";const i=_=>(P("data-v-a28cf98b"),_=_(),L(),_),J={class:"order-container"},K={class:"main-container"},Q={key:0,class:"holder-container"},R={key:1},W={class:"head"},X={key:0,class:"down-time"},Y=i(()=>t("i",{class:"iconfont icon-down-time"},null,-1)),Z={class:"body"},$={class:"column goods"},tt={class:"image",href:"javascript:;"},et=["src"],st={class:"info"},at={class:"name ellipsis-2"},ot={class:"attr ellipsis"},nt={class:"price"},ct={class:"count"},it={class:"column state"},lt={key:0},_t=i(()=>t("a",{href:"javascript:;",class:"green"},"查看物流",-1)),rt=[_t],dt={key:1},pt=i(()=>t("a",{href:"javascript:;",class:"green"},"评价商品",-1)),ut=[pt],mt={key:2},ht=i(()=>t("a",{href:"javascript:;",class:"green"},"查看评价",-1)),vt=[ht],yt={class:"column amount"},gt={class:"red"},ft=i(()=>t("p",null,"在线支付",-1)),bt={class:"column action"},kt=i(()=>t("p",null,[t("a",{href:"javascript:;"},"查看详情")],-1)),St={key:2},xt=i(()=>t("a",{href:"javascript:;"},"再次购买",-1)),Et=[xt],jt={key:3},Ct=i(()=>t("a",{href:"javascript:;"},"申请售后",-1)),wt=[Ct],Tt={key:4},zt=i(()=>t("a",{href:"javascript:;"},"取消订单",-1)),Ft=[zt],Bt={class:"pagination-container"},Vt=M({__name:"myOrder",setup(_){const j=[{name:"all",label:"全部订单"},{name:"unpay",label:"待付款"},{name:"deliver",label:"待发货"},{name:"receive",label:"待收货"},{name:"comment",label:"待评价"},{name:"complete",label:"已完成"},{name:"cancel",label:"已取消"}],p=m([]),g=m(0),r=m({orderState:0,page:1,pageSize:2}),u=async()=>{const{result:o}=await H(r.value);o&&(p.value=o==null?void 0:o.items,g.value=o.counts)},C=o=>{r.value.orderState=o,u()},w=o=>{r.value.page=o,u()},T=o=>({1:"待付款",2:"待发货",3:"待收货",4:"待评价",5:"已完成",6:"已取消"})[o];return N(()=>{u()}),(o,z)=>{const F=A,B=G,f=O,V=D,I=q;return s(),a("div",J,[d(I,{onTabChange:C},{default:h(()=>[(s(),a(v,null,y(j,e=>d(F,{key:e.name,label:e.label},null,8,["label"])),64)),t("div",K,[p.value.length===0?(s(),a("div",Q,[d(B,{description:"暂无订单数据"})])):(s(),a("div",R,[(s(!0),a(v,null,y(p.value,e=>{var b,k;return s(),a("div",{class:"order-item",key:e.id},[t("div",W,[t("span",null,"下单时间："+n(e.createTime),1),t("span",null,"订单编号："+n(e.id),1),e.orderState===1?(s(),a("span",X,[Y,t("b",null,"付款截止: "+n(e.countdown),1)])):c("",!0)]),t("div",Z,[t("div",$,[t("ul",null,[(s(!0),a(v,null,y(e.skus,l=>{var S;return s(),a("li",{key:l.id},[t("a",tt,[t("img",{src:l.image,alt:""},null,8,et)]),t("div",st,[t("p",at,n(l.name),1),t("p",ot,[t("span",null,n(l.attrsText),1)])]),t("div",nt,"¥"+n((S=l.realPay)==null?void 0:S.toFixed(2)),1),t("div",ct,"x"+n(l.quantity),1)])}),128))])]),t("div",it,[t("p",null,n(T(e.orderState)),1),e.orderState===3?(s(),a("p",lt,rt)):c("",!0),e.orderState===4?(s(),a("p",dt,ut)):c("",!0),e.orderState===5?(s(),a("p",mt,vt)):c("",!0)]),t("div",yt,[t("p",gt,"¥"+n((b=e.payMoney)==null?void 0:b.toFixed(2)),1),t("p",null,"（含运费：¥"+n((k=e.postFee)==null?void 0:k.toFixed(2))+"）",1),ft]),t("div",bt,[e.orderState===1?(s(),x(f,{key:0,type:"primary",size:"small"},{default:h(()=>[E(" 立即付款 ")]),_:1})):c("",!0),e.orderState===3?(s(),x(f,{key:1,type:"primary",size:"small"},{default:h(()=>[E(" 确认收货 ")]),_:1})):c("",!0),kt,[2,3,4,5].includes(e.orderState)?(s(),a("p",St,Et)):c("",!0),[4,5].includes(e.orderState)?(s(),a("p",jt,wt)):c("",!0),e.orderState===1?(s(),a("p",Tt,Ft)):c("",!0)])])])}),128)),t("div",Bt,[d(V,{total:g.value,onCurrentChange:w,"page-size":r.value.pageSize,background:"",layout:"prev, pager, next"},null,8,["total","page-size"])])]))])]),_:1})])}}}),Qt=U(Vt,[["__scopeId","data-v-a28cf98b"]]);export{Qt as default};
